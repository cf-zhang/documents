# 第8章 运行时类型识别

当仅有一个指针或引用指向基类型时，利用运行时类型识别（RTTI）可以找到一个对象的动态类型

## 8.1 运行时类型转换

> dynamic_cast<TYPE>()

> bad_cast异常

## 8.2 typeid操作符

> typeid操作符返回一个 type_info类的对象

>> 该对象给出语气应用有关的对象类型信息，如果该对象的类型是多态的，它将给出那个应用的大部分派生类信息，否则它将给出静态类型信息。

>> bad_typeid 异常

### 8.2.1 类型转换到中间层次类型

> typeid作用于指针时不会自动索引对象的真正类型

### 8.2.2 void型指针

>RTTI仅仅为完整的类型工作，不能与void型指针一起工作

### 8.2.3 运用带模板的RTTI

## 8.3 多重继承

## 8.4 合理的使用RTTI

>不要将typeid用于switch，虽然这样很像C

>新特征的一些函数，并不是所有的子类都需要。

## 8.5 RTTI的机制和开销

>typeid检查虚函数表中的type_info指针内容

>dynamic_cast需要检查源和目标各自的类型是否匹配

>dynamic_cast < typeid

## 8.6 小结




>>
