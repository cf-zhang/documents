# 第一章 git的版本控制之道

## 1.1 版本库

> 版本控制系统用来存储所有与历史数据的地方，文件当前状态，历史修改时间，谁做的修改，以及修改的原因

将修改上传到项目主版本库：

* git push
    
* patch 给维护人员，由其代劳

## 1.2 版本库中存储什么

> 所有内容

> * 项目源代码

> * 构建文件：Makefile Rakefile build.xml 等

> * 配置文件，各类文档，图片资源，单元测试脚本等

> * 开发工具可放，可不放。但是如果放的话保持所有人的开发环境一致。应该单独的目录仓库存放

## 1.3 工作目录树

git中版本库不在服务器上，而存储在本地工作目录树的.git目录中

* git相关命令初始化版本库回自动生成

* clone一个已有的版本库

clone 是创建该版本库的一个拷贝，并把版本库中的主分支的内容检出到工作目录树

检出是指把工作目录树更新，使其内容与版本库中某个特定的历史版本相同

## 1.4 代码修改与文件同步

> push

> pull == fetch(远程版本库复制到本地版本库) + merge(本地版本库与本地改动合并)

## 1.5 跟踪项目，目录和文件

git并不把整个文件作为不可分割的整体来记录和跟踪，而是记录和跟踪组成该文件的各个部分内容，也就是若干字符和代码行

## 1.6 使用标签跟踪里程碑

不论采用何种开发方法，里程碑都标志着项目的进程

不论采用何种开发方法，当到达里程碑时，都须要记录下当时的代码版本。

标签以一个简单的名称来标记版本库历史中某个特定的点。

* 重要的里程碑，比如对外正式发布的版本

* 修复一个缺陷后打个标签

本质上，标签是一个对于使用者来说易于理解易于记忆的名字，用来标识版本库中一个难读难记的内部版本号，以此帮助使用者跟踪版本历史。

## 1.7 使用分支来跟踪并行演进

分之可以长期存在，也可以仅存在数小时。分之可以合并到别的分支，但并非所有的分支都必须合并。

不应该合并： 记录项目不同发布版本的开发，实验性工作

## 1.8 合并

git比较各分支上的变化，确定变化在哪里发生，当不同的变化发生在文件的不同部分时，git能够自动合并。当git不能自动合并时，就会提示冲突

## 1.9 锁机制

严格锁：

乐观锁：

同一个文件不同部分，后一个push的人，需要解决前一个人提交内容与自己产生的冲突然后在进行提交

## 1.10 下一步

git的安装和配置


